/*
Copyright 2020 Authors of Arktos.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/

package clientutil

import (
	"fmt"
	"io/ioutil"
	"os"
	"testing"
)

type TestCase struct {
	description    string
	kubeconfigFile string
	qps            float32
	burst          int
	expectedError  error
}

// sanity level of UTs for the refactored functions in here
func TestCreateClientUtils(t *testing.T) {
	kubeconfigFile := "kubeconfig_1"

	tests := []TestCase{
		{
			description:    "empty-file-name",
			kubeconfigFile: "",
			qps:            0,
			burst:          0,
			expectedError:  fmt.Errorf("error while loading kubeconfig from file %s: open : no such file or directory", ""),
		},
		{
			description:    "fileDoesNotExist",
			kubeconfigFile: "file-does-not-exist",
			qps:            0,
			burst:          0,
			expectedError:  fmt.Errorf("error while loading kubeconfig from file %s: open %s: no such file or directory", "file-does-not-exist", "file-does-not-exist"),
		},
		{
			description:    "QPS=0",
			kubeconfigFile: kubeconfigFile,
			qps:            0,
			burst:          0,
			expectedError:  nil,
		},
		{
			description:    "QPS!=0",
			kubeconfigFile: kubeconfigFile,
			qps:            10,
			burst:          50,
			expectedError:  nil,
		},
	}

	if createTestConfigFile(kubeconfigFile) != nil {
		t.Fatalf("failed to create test kubeconfig file")
	}

	defer os.Remove(kubeconfigFile)

	for _, test := range tests {
		t.Logf("execute test case [%s] for CreateClientFromKubeconfigFile", test.description)

		_, err := CreateClientFromKubeconfigFile(test.kubeconfigFile, "kube-test")
		if test.expectedError != nil && err.Error() != test.expectedError.Error() {
			t.Fatalf("failed validate expected error. error: %v", err)
		}
	}

	for _, test := range tests {
		t.Logf("execute test case [%s] for CreateClientConfigFromKubeconfigFileAndSetQps", test.description)

		config, err := CreateClientConfigFromKubeconfigFileAndSetQps(test.kubeconfigFile, test.qps, test.burst, "", "kube-test")

		if err != nil && test.expectedError == nil {
			t.Fatalf("failed validate expected error. error: %v", err)
		}

		if test.expectedError != nil && err.Error() != test.expectedError.Error() {
			t.Fatalf("failed validate expected error. error: %v", err)
		}

		// sanity check for the config
		if test.expectedError == nil {
			cfg := config.GetConfig()
			host := cfg.Host
			qps := cfg.QPS

			if host != "https://104.154.98.23:443" {
				t.Fatalf("failed validate expected server name: config returns: %s", config.GetConfig().ServerName)
			}
			if qps != test.qps {
				t.Fatalf("failed validate expected QPS: config returns: %v", config.GetConfig().QPS)
			}
		}
	}
}

func createTestConfigFile(file string) error {
	return ioutil.WriteFile(file, []byte(`
apiVersion: v1
clusters:
- cluster:
    certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURYRENDQWtTZ0F3SUJBZ0lKQU1PeDY5TTYyU1VYTUEwR0NTcUdTSWIzRFFFQkN3VUFNQ014SVRBZkJnTlYKQkFNTUdERXdOQzR4TlRRdU9UZ3VNak5BTVRZeE5EVTJNVEk0TWpBZUZ3MHlNVEF6TURFd01URTBOREphRncwegpNVEF5TWpjd01URTBOREphTUNNeElUQWZCZ05WQkFNTUdERXdOQzR4TlRRdU9UZ3VNak5BTVRZeE5EVTJNVEk0Ck1qQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCQU5INjVxR2l0UktDQ2YwcXZWeXcKOVZDS3hnR2k4Z1dPR0N0eG5wdFhpNkpWdTExSUZMTXRVSFZlRVhEWEhtbUhnaGg2Z2JLNmhkZ2FuSmhOMnFrWQpHRDZKUzhMRDJrT2YwM1VyaGJDWlR4VFd1Wi81L3RDZGNJRkhNTFplS0kyMzRMb3JqbzFteEpCb0p1bjVWelh2CncyK2NqUWZ3MkNUcFVZVVVUVlB1ZEQrMXZmWElUNXhvRERhYVRmQUxqSEZoNUVBdFJUM3VmSWx1TmV6dFdBQkkKeU51RkJ4QW5XQWsybWc0QWZPOXBUOFR6QUFnK2xIQ2RLSzMyZ1lOOXkzVGdHdjdNOXJOazBYM29ibzdYeWw1cApEK0V0OVA2MFRzVGpuYVZSVnRnN0k2Kys3QVUwS1IyYm1xV0dMSTEyUVh1UGdJRm1BTWZ6a3hBbnFhMWZ2cVdJCm0yRUNBd0VBQWFPQmtqQ0JqekFkQmdOVkhRNEVGZ1FVRHMzRDdQcEJSaUhadFI1Q1J4ZlRMTCtrT1FJd1V3WUQKVlIwakJFd3dTb0FVRHMzRDdQcEJSaUhadFI1Q1J4ZlRMTCtrT1FLaEo2UWxNQ014SVRBZkJnTlZCQU1NR0RFdwpOQzR4TlRRdU9UZ3VNak5BTVRZeE5EVTJNVEk0TW9JSkFNT3g2OU02MlNVWE1Bd0dBMVVkRXdRRk1BTUJBZjh3CkN3WURWUjBQQkFRREFnRUdNQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUJBUURDODdtT2tsU2dzWFM3ZWM3TmxDaHUKUTBZYlZDOWFwTXRpWG5VSU53RGF3UzJCcGJvcThXUWF0S3N5dXprdVg2dmQ3RzBuRkFRK3FiekpHYk5jRU5WRApUL2JMTGMvbjZJZXhmaHhDZHFsWk55TklZLzhjTFZNalhMcm5NdjFLVTN2QjNMVDlPMDMxMjFxeXdhUnNYZFJyCmJDQnZBek1tanVPWld0WHJxNDdLTVlHVm1OT054UXBLb1pScTQ5RDlYQnRsM1pUcHBzRzdoUXU2MTUyb0FyWmUKZlgwL1d3R05ScTQrN1ZUbTNqQWJFMVRMd3R3a1lmL0JqWXBZZVpkMFF2L01LVHJPZU9uekNSd1hvK1dlWklGUwpFeHd4UmJPb1VrN3ZvQ0R6citSb05qVkw1VE1qQ3lLb3Q5NWpGdjgrMVpJM1BpeDBqRjZteTdiWUZzTUhudTFYCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
    server: https://104.154.98.23:443
  name: workload-controller-manager_yb01-m2-secureport
contexts:
- context:
    cluster: workload-controller-manager_yb01-m2-secureport
    user: workload-controller-manager_yb01-m2-secureport
  name: workload-controller-manager_yb01-m2-secureport
current-context: workload-controller-manager_yb01-m2-secureport
kind: Config
preferences: {}
users:
- name: workload-controller-manager_yb01-m2-secureport
  user:
    client-certificate-data: Q2VydGlmaWNhdGU6CiAgICBEYXRhOgogICAgICAgIFZlcnNpb246IDMgKDB4MikKICAgICAgICBTZXJpYWwgTnVtYmVyOiAzICgweDMpCiAgICBTaWduYXR1cmUgQWxnb3JpdGhtOiBzaGEyNTZXaXRoUlNBRW5jcnlwdGlvbgogICAgICAgIElzc3VlcjogQ049MTA0LjE1NC45OC4yM0AxNjE0NTYxMjgyCiAgICAgICAgVmFsaWRpdHkKICAgICAgICAgICAgTm90IEJlZm9yZTogTWFyICAxIDAxOjE0OjQ1IDIwMjEgR01UCiAgICAgICAgICAgIE5vdCBBZnRlciA6IEZlYiAyNyAwMToxNDo0NSAyMDMxIEdNVAogICAgICAgIFN1YmplY3Q6IE89dGVuYW50OnN5c3RlbSwgT1U9c3lzdGVtOm1hc3RlcnMsIENOPWt1YmVjZmcKICAgICAgICBTdWJqZWN0IFB1YmxpYyBLZXkgSW5mbzoKICAgICAgICAgICAgUHVibGljIEtleSBBbGdvcml0aG06IHJzYUVuY3J5cHRpb24KICAgICAgICAgICAgICAgIFB1YmxpYy1LZXk6ICgyMDQ4IGJpdCkKICAgICAgICAgICAgICAgIE1vZHVsdXM6CiAgICAgICAgICAgICAgICAgICAgMDA6ZDE6ZDA6NTg6MjU6MmQ6MGY6ZDI6NjU6NGM6ZTE6NmM6ZTY6ZTM6YTE6CiAgICAgICAgICAgICAgICAgICAgOWY6ODM6NjQ6Yzg6NzI6NjI6OTY6MDY6MGU6NjM6NzQ6ZTQ6YmM6MWM6YzU6CiAgICAgICAgICAgICAgICAgICAgNDM6YjE6NTA6NTQ6ZmQ6MjQ6OTU6YTQ6ZjU6OTU6YTI6Njk6MDE6Yzc6YTI6CiAgICAgICAgICAgICAgICAgICAgNWY6YTE6MmU6NzQ6NmE6ZTU6YzY6OWM6OGM6M2Y6NDc6MmM6ZWY6NDE6OTc6CiAgICAgICAgICAgICAgICAgICAgNDY6ZWM6ZDA6MTI6OWY6MjQ6N2Y6M2U6ZmI6OWQ6OGQ6M2U6NTk6ZjE6YWE6CiAgICAgICAgICAgICAgICAgICAgY2Q6MzA6MGU6NWQ6NTE6MmE6MmU6Yjg6ZDQ6ZjU6Mjc6ZDk6NjQ6NzA6ZTI6CiAgICAgICAgICAgICAgICAgICAgYWE6MTk6ODg6NjU6MmU6ODg6MDk6YmE6NzE6ZWY6ODE6YmI6YjQ6YTg6ZmU6CiAgICAgICAgICAgICAgICAgICAgOGY6ZDg6YjY6YjA6YzE6MjY6MTk6NTQ6Yjk6YWQ6ZDM6ZmU6M2E6OGM6Nzc6CiAgICAgICAgICAgICAgICAgICAgNDA6MWE6MWQ6MTI6YWQ6NTY6MjY6Njg6MTc6OWI6MTM6NGI6MzU6NDg6NDI6CiAgICAgICAgICAgICAgICAgICAgZjk6ZDc6MTU6MjI6Nzg6MGI6MDM6M2Y6OWI6M2M6NWM6ZTg6YTg6ODE6NWI6CiAgICAgICAgICAgICAgICAgICAgNTY6NGE6ZjI6NzA6MmE6ODA6MDQ6MGY6NDI6N2E6NGM6MzE6YTI6ZGQ6N2M6CiAgICAgICAgICAgICAgICAgICAgMmM6OTY6NTY6NmI6OWI6NTA6YjU6M2U6YTk6MjE6MzY6Mjg6MGQ6ZWI6ZWI6CiAgICAgICAgICAgICAgICAgICAgYWQ6Yzk6NjI6NjQ6MDU6ODI6NDE6YTg6MmI6ODU6NDE6MTk6ZDc6OGU6NWY6CiAgICAgICAgICAgICAgICAgICAgYWE6MDk6YzA6YTI6OTk6OTA6MDY6MzM6MzM6MWM6MDA6ODU6YjU6OGY6NmY6CiAgICAgICAgICAgICAgICAgICAgZTg6YWU6YTc6Zjc6NzQ6M2Q6ZDg6OTg6YTA6ZWM6YWI6ODI6N2U6ODU6NDg6CiAgICAgICAgICAgICAgICAgICAgMDc6YjQ6Yjk6ZmM6YTU6NDc6OTg6NzE6ZWE6MTY6OWU6NGM6ZGE6YzA6YWY6CiAgICAgICAgICAgICAgICAgICAgYzc6ZTU6NTg6ODc6OTE6MDA6MjA6MTY6OWI6MzQ6ODI6M2E6OGY6YmU6NWU6CiAgICAgICAgICAgICAgICAgICAgODA6MTEKICAgICAgICAgICAgICAgIEV4cG9uZW50OiA2NTUzNyAoMHgxMDAwMSkKICAgICAgICBYNTA5djMgZXh0ZW5zaW9uczoKICAgICAgICAgICAgWDUwOXYzIEJhc2ljIENvbnN0cmFpbnRzOiAKICAgICAgICAgICAgICAgIENBOkZBTFNFCiAgICAgICAgICAgIFg1MDl2MyBTdWJqZWN0IEtleSBJZGVudGlmaWVyOiAKICAgICAgICAgICAgICAgIDI0OjJFOjBDOkEyOkYwOjRDOkZCOjQ1OkMzOjFEOkNCOjI3OjRBOjI1OjJEOjZFOkQzOkM1OkI3OkJCCiAgICAgICAgICAgIFg1MDl2MyBBdXRob3JpdHkgS2V5IElkZW50aWZpZXI6IAogICAgICAgICAgICAgICAga2V5aWQ6MEU6Q0Q6QzM6RUM6RkE6NDE6NDY6MjE6RDk6QjU6MUU6NDI6NDc6MTc6RDM6MkM6QkY6QTQ6Mzk6MDIKICAgICAgICAgICAgICAgIERpck5hbWU6L0NOPTEwNC4xNTQuOTguMjNAMTYxNDU2MTI4MgogICAgICAgICAgICAgICAgc2VyaWFsOkMzOkIxOkVCOkQzOjNBOkQ5OjI1OjE3CgogICAgICAgICAgICBYNTA5djMgRXh0ZW5kZWQgS2V5IFVzYWdlOiAKICAgICAgICAgICAgICAgIFRMUyBXZWIgQ2xpZW50IEF1dGhlbnRpY2F0aW9uCiAgICAgICAgICAgIFg1MDl2MyBLZXkgVXNhZ2U6IAogICAgICAgICAgICAgICAgRGlnaXRhbCBTaWduYXR1cmUKICAgIFNpZ25hdHVyZSBBbGdvcml0aG06IHNoYTI1NldpdGhSU0FFbmNyeXB0aW9uCiAgICAgICAgIGM0OjMyOmE5OmE3OjA5OmIxOjkzOmE1OmRjOmM1OmQ3OjdlOmFmOjk3OjZlOjZjOjE2OjgwOgogICAgICAgICBiNjo2NDplNDoyZDoyYTowNDo5MzozZTpmYTpiMDplNzplYjo4MTozYTowZjo4MjoyZDpiMzoKICAgICAgICAgZDA6YzQ6ODU6YjI6MDk6MTI6Yjk6MjI6MDc6NTk6ZGM6MDc6OTI6OTQ6NDI6MDU6YzA6NWI6CiAgICAgICAgIGQ4OjliOjJlOjM4OjZlOjI5OjAxOjQ2OmM4OjQwOmIwOmM4OjFhOmE0OjIyOmJmOjRjOjUzOgogICAgICAgICAyYzpmZTozNDo0MToyYTo4Mjo3YjpjNjo4NTpkNTo1ODoyNTo4ZjpkNDplZTo1NjoyNzpmMDoKICAgICAgICAgM2U6ZDc6MDg6ZGY6ZGE6ZGM6NGE6ODk6NjE6Njk6NGM6Y2Y6Mjk6ODU6ZDQ6YTE6NjE6Mjc6CiAgICAgICAgIDEwOjI4OjMzOjc2OjVlOjRkOjI2OmE5OjJkOjg1OmQzOjQzOmM2OjhiOmMzOjAwOmZmOjIwOgogICAgICAgICAyNjo3Yjo4Mjo1MDoxMzplZjo2NDowODoyZjowYjpkYzowOTpkYTphOTowODo2YTpiODo3ZToKICAgICAgICAgNjk6Yjk6ZjA6NWE6MmQ6ZDI6YzA6ZDg6ZDk6MzI6NmI6ODU6Nzg6MWM6ZDY6NDI6ODQ6ZWE6CiAgICAgICAgIDYxOjU2OjRjOjQ1OjYwOjU5Ojk2OmYyOmM0OjUyOjZhOjI5OmFlOjdlOmQ2OjcwOjVhOjFhOgogICAgICAgICA2NTo2NzoyZjpiMjo3Nzo4Nzo1MzozNjpmMDozMTowNjo5NDpiMzplYjphZTo3Yjo3ZTpkNjoKICAgICAgICAgOWE6Yzc6ZDc6ZmM6ODM6ZTQ6NWY6MDE6ZWY6NWM6YjE6NDU6Yjg6YTU6YjQ6NjA6MmM6ODA6CiAgICAgICAgIDFhOmVlOjkxOmI0OjNiOjM0OjYyOjc2Ojg1OmVkOjQ0OjgxOmE4OjIzOjYxOjVlOjM0Ojk3OgogICAgICAgICA1Zjo1ZDo3Yzo0YzoxNTo1Yzo4NDoxZTpjYjowMjpkYzpmYjo4NTo0ZDoxODowYzoxOTo5NDoKICAgICAgICAgMTc6Mjc6ZjM6ZTYKLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURoakNDQW02Z0F3SUJBZ0lCQXpBTkJna3Foa2lHOXcwQkFRc0ZBREFqTVNFd0h3WURWUVFEREJneE1EUXUKTVRVMExqazRMakl6UURFMk1UUTFOakV5T0RJd0hoY05NakV3TXpBeE1ERXhORFExV2hjTk16RXdNakkzTURFeApORFExV2pCRE1SWXdGQVlEVlFRS0RBMTBaVzVoYm5RNmMzbHpkR1Z0TVJjd0ZRWURWUVFMREE1emVYTjBaVzA2CmJXRnpkR1Z5Y3pFUU1BNEdBMVVFQXd3SGEzVmlaV05tWnpDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVAKQURDQ0FRb0NnZ0VCQU5IUVdDVXREOUpsVE9GczV1T2huNE5reUhKaWxnWU9ZM1RrdkJ6RlE3RlFWUDBrbGFUMQpsYUpwQWNlaVg2RXVkR3JseHB5TVAwY3M3MEdYUnV6UUVwOGtmejc3blkwK1dmR3F6VEFPWFZFcUxyalU5U2ZaClpIRGlxaG1JWlM2SUNicHg3NEc3dEtqK2o5aTJzTUVtR1ZTNXJkUCtPb3gzUUJvZEVxMVdKbWdYbXhOTE5VaEMKK2RjVkluZ0xBeitiUEZ6b3FJRmJWa3J5Y0NxQUJBOUNla3d4b3QxOExKWldhNXRRdFQ2cElUWW9EZXZycmNsaQpaQVdDUWFncmhVRVoxNDVmcWduQW9wbVFCak16SEFDRnRZOXY2SzZuOTNROTJKaWc3S3VDZm9WSUI3UzUvS1ZICm1ISHFGcDVNMnNDdngrVlloNUVBSUJhYk5JSTZqNzVlZ0JFQ0F3RUFBYU9CcERDQm9UQUpCZ05WSFJNRUFqQUEKTUIwR0ExVWREZ1FXQkJRa0xneWk4RXo3UmNNZHl5ZEtKUzF1MDhXM3V6QlRCZ05WSFNNRVREQktnQlFPemNQcwora0ZHSWRtMUhrSkhGOU1zdjZRNUFxRW5wQ1V3SXpFaE1COEdBMVVFQXd3WU1UQTBMakUxTkM0NU9DNHlNMEF4Ck5qRTBOVFl4TWpneWdna0F3N0hyMHpyWkpSY3dFd1lEVlIwbEJBd3dDZ1lJS3dZQkJRVUhBd0l3Q3dZRFZSMFAKQkFRREFnZUFNQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUJBUURFTXFtbkNiR1RwZHpGMTM2dmwyNXNGb0MyWk9RdApLZ1NUUHZxdzUrdUJPZytDTGJQUXhJV3lDUks1SWdkWjNBZVNsRUlGd0Z2WW15NDRiaWtCUnNoQXNNZ2FwQ0svClRGTXMvalJCS29KN3hvWFZXQ1dQMU81V0ovQSsxd2pmMnR4S2lXRnBUTThwaGRTaFlTY1FLRE4yWGswbXFTMkYKMDBQR2k4TUEveUFtZTRKUUUrOWtDQzhMM0FuYXFRaHF1SDVwdWZCYUxkTEEyTmt5YTRWNEhOWkNoT3BoVmt4RgpZRm1XOHNSU2FpbXVmdFp3V2hwbFp5K3lkNGRUTnZBeEJwU3o2NjU3ZnRhYXg5ZjhnK1JmQWU5Y3NVVzRwYlJnCkxJQWE3cEcwT3pSaWRvWHRSSUdvSTJGZU5KZGZYWHhNRlZ5RUhzc0MzUHVGVFJnTUdaUVhKL1BtCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
    client-key-data: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2UUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktjd2dnU2pBZ0VBQW9JQkFRRFIwRmdsTFEvU1pVemgKYk9iam9aK0RaTWh5WXBZR0RtTjA1THdjeFVPeFVGVDlKSldrOVpXaWFRSEhvbCtoTG5ScTVjYWNqRDlITE85QgpsMGJzMEJLZkpIOCsrNTJOUGxueHFzMHdEbDFSS2k2NDFQVW4yV1J3NHFvWmlHVXVpQW02Y2UrQnU3U28vby9ZCnRyREJKaGxVdWEzVC9qcU1kMEFhSFJLdFZpWm9GNXNUU3pWSVF2blhGU0o0Q3dNL216eGM2S2lCVzFaSzhuQXEKZ0FRUFFucE1NYUxkZkN5V1ZtdWJVTFUrcVNFMktBM3I2NjNKWW1RRmdrR29LNFZCR2RlT1g2b0p3S0taa0FZegpNeHdBaGJXUGIraXVwL2QwUGRpWW9PeXJnbjZGU0FlMHVmeWxSNWh4NmhhZVROckFyOGZsV0llUkFDQVdtelNDCk9vKytYb0FSQWdNQkFBRUNnZ0VBWXdwT0VYNXI4WTBQOVhsS3BEa3U2djh2LzQ2NThySG9FTTNJWG14ZnY5dUQKd3RyNktKd2t2ajJETVpGY1F1R0M0dE1FSmZHdURSTVEvWTFEVlpZQ3RFeXVKRFR4OGpKMGtyZGxsRUd6bXhTbQphV2xkTUNwV1YxTW5xRlhTTFZ6WitzQzlwaWZNNTlrQ1hmSWZEWTNHZDFBTzFmc3orQXB5bitFSlovazZ0L2RSCnA5dGVtYks4R3ZBL0cyL3cxdFQxUDVvTTJJOWhzWmhEYlpjbXllTzViU3plYnpIT3BKbDJ0aXBueDVvZXh1TncKb2pmdUh4bmNMOU5HVVVzUyt3aGtoY04wRFpUUFo3RnRFNHZEcnBYYklyR1BwNnJJY1YvZTcxeXA0SkMrcWp5aApvVUZ5emtER0wvbWhESGR4OWUyejJCTWIwcnl5L1FMK1RGZ2IxbzNINFFLQmdRRHhmZmJZRVBnWi9HWGpoZ0E2CllyRGJkd2Q4V05LOWo2bmJCOFFKVldtZW5OalBRTWRpQnN5UTlVT0VoZytxTHJrRklxdmpPSlJpR3NyNzFySXcKdHZYVVpJZ25acmxpMzhXNFkrM1p4OTViK2NScnRFek5DUTdsZXoxOWhEV0xHVHBPam0weU96dWFVRDErODQ3YgpqQlRGaTdWakt4S29iUVhHTFRjdElqYXdnd0tCZ1FEZWF5OGJDZi96N3JVZThKZjAxS2liWWRCakJId3l4ZzdoCk4vYXA0cjBYcCtGZXFzNFpGcWQ4SGN6Y0dXK2pvK285R3J6NWs1WFhkOHVMc0Z5aE4xeDhVNjVpWTJiZVRuaWoKYnM3MnFwSy9ROTllMktPNHBwQXlWK0Zub1NmQWpnM0I1OWpGeUZxYVhES1RQMHNtbmU4ejBpSFJxaHhLWGQzQwo4VlBSY1J5QTJ3S0JnQ0toUTZLY1hGZXRvQmJPZ24zYzVTdXpsL2syNjVHUFpuWW9XTzVWdHoydGxGRzBJbU5tClFqT1BXRTFLeERoTlZ1N3JsK2FQbUlldysrYTlWUFF6YUhFNnNXT2xFWFNpVGtJdzRreldvb1poL003TkhpNVEKM0RnQVFrTWJrR29RQmhKNXppTGo1NW9yWTRZdSt3OTB1UTNUQ1FIZGpXRmxzT3hJVTU4L1JzUnRBb0dBWFlUcgoxWTZxMUVJMlhjQUQ1S25XQ3g5aG80Q3JTQjRHKzZPd1QxWks4N3RmQTVNRi9YNk5CWjd5R0VtSnEyQ3NpT3pKCk1KZGhsYXVGSmtNTmI2djdjenNzUTZwUUFvRTBNR1BUR2R3MnY3MG1HcGMwbjl0SkhpSGRZTmxlQVpTNUxDTHoKL3BWem94dkpHQ2l3ekpmemovSjJ6ZFdjOTVmb09xT0YvclowcWFrQ2dZRUF2NzQwR1UwR2FUYlU1YVIrKzlmTQpQUzllYi9pcUZ3WW5saFZERVlWdzlLTkJOM003RlRGYkIzWFFiVTNkbGpDdC81QnJua2dEMlpmMXNFQzZ6QkpJClBKQW04bHhoT1FhdFkwbThwUDBwOU80dXE2YUhZZ2JCc1R1SWE4TzNTVFh0eU9zWFdEd0Y2R3JVaS9za2VaTUwKNGY4c0xOaE1wQzFLdmpkdjc2OHArUmc9Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0K
    token: fig3MUVSMAvFILRnHGAQIVqscgq2sub5
- name: workload-controller-manager_yb01-m2-secureport-basic-auth
  user:
    password: 35YWasBvySaEFZfL
    username: admin
`), os.FileMode(0755))
}
